{"version":3,"sources":["../../../src/users/dtos/auth.dto.ts"],"sourcesContent":["import { IsEmail, IsString } from 'class-validator';\r\nimport { ApiProperty } from '@nestjs/swagger';\r\nimport { Role } from '@/types/role.enum';\r\n\r\nexport class LoginDto {\r\n  @ApiProperty({\r\n    example: 'john@example.com',\r\n  })\r\n  @IsEmail()\r\n  email!: string;\r\n\r\n  @ApiProperty({\r\n    example: 'password123',\r\n  })\r\n  @IsString()\r\n  password!: string;\r\n}\r\n\r\nexport class TokensDto {\r\n  @ApiProperty({\r\n    example: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...',\r\n    description: 'JWT access token',\r\n  })\r\n  @IsString()\r\n  accessToken!: string;\r\n\r\n  @ApiProperty({\r\n    example: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...',\r\n    description: 'JWT refresh token',\r\n  })\r\n  @IsString()\r\n  refreshToken!: string;\r\n}\r\n\r\nexport interface TokenPayload {\r\n  sub: string; // user id\r\n  email: string;\r\n  // isAdmin: boolean;\r\n  role?: Role;\r\n  type: 'access' | 'refresh';\r\n  jti?: string; // Add this for refresh tokens\r\n}\r\n\r\nexport class UserResponseDto {\r\n  @ApiProperty()\r\n  id!: string;\r\n\r\n  @ApiProperty()\r\n  email!: string;\r\n\r\n  @ApiProperty()\r\n  name!: string;\r\n\r\n  @ApiProperty()\r\n  role?: Role;\r\n}\r\n\r\nexport class AuthResponseDto {\r\n  @ApiProperty()\r\n  tokens!: TokensDto;\r\n\r\n  @ApiProperty()\r\n  user!: UserResponseDto;\r\n}\r\n"],"names":["AuthResponseDto","LoginDto","TokensDto","UserResponseDto","example","description"],"mappings":";;;;;;;;;;;QAyDaA;eAAAA;;QArDAC;eAAAA;;QAcAC;eAAAA;;QAyBAC;eAAAA;;;gCA3CqB;yBACN;0BACP;;;;;;;;;;AAEd,IAAA,AAAMF,WAAN,MAAMA;AAYb;;;QAVIG,SAAS;;;;;;;QAMTA,SAAS;;;;;AAMN,IAAA,AAAMF,YAAN,MAAMA;AAcb;;;QAZIE,SAAS;QACTC,aAAa;;;;;;;QAMbD,SAAS;QACTC,aAAa;;;;;AAeV,IAAA,AAAMF,kBAAN,MAAMA;AAYb;;;;;;;;;;;;;;;;;AAEO,IAAA,AAAMH,kBAAN,MAAMA;AAMb"}