{"version":3,"sources":["../../../src/forums/schema/forum.schema.ts"],"sourcesContent":["import { Prop, Schema, SchemaFactory } from '@nestjs/mongoose';\r\nimport mongoose, { Document } from 'mongoose';\r\n\r\n@Schema({ timestamps: true })\r\nexport class Comment extends Document {\r\n  @Prop({ type: mongoose.Schema.Types.ObjectId, auto: true })\r\n  _id: mongoose.Schema.Types.ObjectId;\r\n\r\n  @Prop({ type: mongoose.Schema.Types.ObjectId, ref: 'User' })\r\n  user: mongoose.Schema.Types.ObjectId;\r\n\r\n  @Prop({ type: String })\r\n  content: string;\r\n\r\n  @Prop({ type: mongoose.Schema.Types.ObjectId, default: null })\r\n  parentId: mongoose.Schema.Types.ObjectId;\r\n\r\n  @Prop({\r\n    type: [{ type: mongoose.Schema.Types.ObjectId, ref: 'Comment' }],\r\n    default: [],\r\n  })\r\n  replies: mongoose.Schema.Types.ObjectId[];\r\n\r\n  @Prop({ type: Number, default: 0 })\r\n  likes: number;\r\n\r\n  @Prop({ type: [mongoose.Schema.Types.ObjectId], default: [] })\r\n  likesArray: mongoose.Schema.Types.ObjectId[];\r\n}\r\n\r\nexport const CommentSchema = SchemaFactory.createForClass(Comment);\r\n\r\n@Schema({ timestamps: true })\r\nexport class Forum extends Document {\r\n  @Prop({ type: String })\r\n  content: string;\r\n\r\n  @Prop({ type: mongoose.Schema.Types.ObjectId, ref: 'User' })\r\n  user: mongoose.Schema.Types.ObjectId;\r\n\r\n  @Prop({\r\n    type: [String],\r\n    enum: {\r\n      values: [\r\n      'fishing',\r\n      'hunting',\r\n      'camping',\r\n      'all'\r\n      ],\r\n      message:\r\n        'Tags must be one of: fishing, hunting, camping, all',\r\n    },\r\n    default: ['all'],\r\n  })\r\n  tags: string[];\r\n\r\n  @Prop({ type: [{ type: CommentSchema }], default: [] })\r\n  comments: Comment[];\r\n\r\n  @Prop({ type: Number, default: 0 })\r\n  likes: number;\r\n\r\n  @Prop({ type: [mongoose.Schema.Types.ObjectId], default: [] })\r\n  likesArray: mongoose.Schema.Types.ObjectId[];\r\n\r\n  @Prop({ type: String })\r\n  imagePath: string;\r\n}\r\n\r\nexport const ForumSchema = SchemaFactory.createForClass(Forum);\r\n"],"names":["Comment","CommentSchema","Forum","ForumSchema","Document","type","mongoose","Schema","Types","ObjectId","auto","ref","String","default","Number","timestamps","SchemaFactory","createForClass","enum","values","message"],"mappings":";;;;;;;;;;;QAIaA;eAAAA;;QA0BAC;eAAAA;;QAGAC;eAAAA;;QAoCAC;eAAAA;;;0BArE+B;mEACT;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAG5B,IAAA,AAAMH,UAAN,MAAMA,gBAAgBI,mBAAQ;AAwBrC;;;QAvBUC,MAAMC,kBAAQ,CAACC,MAAM,CAACC,KAAK,CAACC,QAAQ;QAAEC,MAAM;;uGACtC,oDAAA,OAAO,mDAAP,OAAO,MAAM,uDAAb,OAAO,MAAM;;;;QAEnBL,MAAMC,kBAAQ,CAACC,MAAM,CAACC,KAAK,CAACC,QAAQ;QAAEE,KAAK;;uGACpC,oDAAA,OAAO,mDAAP,OAAO,MAAM,uDAAb,OAAO,MAAM;;;;QAEpBN,MAAMO;;;;;;QAGNP,MAAMC,kBAAQ,CAACC,MAAM,CAACC,KAAK,CAACC,QAAQ;QAAEI,SAAS;;uGACpC,oDAAA,OAAO,mDAAP,OAAO,MAAM,uDAAb,OAAO,MAAM;;;;QAG9BR,MAAM;YAAC;gBAAEA,MAAMC,kBAAQ,CAACC,MAAM,CAACC,KAAK,CAACC,QAAQ;gBAAEE,KAAK;YAAU;SAAE;QAChEE,SAAS,EAAE;;;;;;QAILR,MAAMS;QAAQD,SAAS;;;;;;QAGvBR,MAAM;YAACC,kBAAQ,CAACC,MAAM,CAACC,KAAK,CAACC,QAAQ;SAAC;QAAEI,SAAS,EAAE;;;;;;QAvBnDE,YAAY;;;AA2Bf,MAAMd,gBAAgBe,uBAAa,CAACC,cAAc,CAACjB;AAGnD,IAAA,AAAME,QAAN,MAAMA,cAAcE,mBAAQ;AAkCnC;;;QAjCUC,MAAMO;;;;;;QAGNP,MAAMC,kBAAQ,CAACC,MAAM,CAACC,KAAK,CAACC,QAAQ;QAAEE,KAAK;;uGACpC,oDAAA,OAAO,mDAAP,OAAO,MAAM,uDAAb,OAAO,MAAM;;;;QAG1BN,MAAM;YAACO;SAAO;QACdM,MAAM;YACJC,QAAQ;gBACR;gBACA;gBACA;gBACA;aACC;YACDC,SACE;QACJ;QACAP,SAAS;YAAC;SAAM;;;;;;QAIVR,MAAM;YAAC;gBAAEA,MAAMJ;YAAc;SAAE;QAAEY,SAAS,EAAE;;;;;;QAG5CR,MAAMS;QAAQD,SAAS;;;;;;QAGvBR,MAAM;YAACC,kBAAQ,CAACC,MAAM,CAACC,KAAK,CAACC,QAAQ;SAAC;QAAEI,SAAS,EAAE;;;;;;QAGnDR,MAAMO;;;;;;QAjCNG,YAAY;;;AAqCf,MAAMZ,cAAca,uBAAa,CAACC,cAAc,CAACf"}