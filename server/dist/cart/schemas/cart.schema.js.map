{"version":3,"sources":["../../../src/cart/schemas/cart.schema.ts"],"sourcesContent":["import { Prop, Schema, SchemaFactory } from '@nestjs/mongoose';\r\nimport { Document, Schema as MongooseSchema } from 'mongoose';\r\nimport { User } from '../../users/schemas/user.schema';\r\nimport {\r\n  CartItem as CartItemInterface,\r\n  ShippingDetails,\r\n} from '../../interfaces';\r\n\r\nexport type CartDocument = Cart & Document;\r\n\r\n@Schema()\r\nexport class CartItem {\r\n  @Prop({ required: true, type: String })\r\n  productId: string;\r\n\r\n  @Prop({ required: true })\r\n  name: string;\r\n\r\n  @Prop({ required: false })\r\n  nameEn?: string;\r\n\r\n  @Prop({ required: true })\r\n  image: string;\r\n\r\n  @Prop({ required: true, default: 0 })\r\n  price: number;\r\n\r\n  @Prop({ required: true, default: 0 })\r\n  countInStock: number;\r\n\r\n  @Prop({ required: true, default: 1 })\r\n  qty: number;\r\n\r\n  @Prop({ required: false, type: String })\r\n  size?: string;\r\n\r\n  @Prop({ required: false, type: String })\r\n  color?: string;\r\n\r\n  @Prop({ required: false, type: String })\r\n  ageGroup?: string;\r\n}\r\n\r\nexport const CartItemSchema = SchemaFactory.createForClass(CartItem);\r\n\r\n@Schema({ timestamps: true })\r\nexport class Cart {\r\n  @Prop({ type: MongooseSchema.Types.ObjectId, ref: 'User', required: true })\r\n  userId!: User;\r\n\r\n  @Prop({ type: [CartItemSchema], default: [] })\r\n  items!: CartItem[];\r\n\r\n  @Prop({ default: 0 })\r\n  itemsPrice!: number;\r\n\r\n  @Prop({ default: 0 })\r\n  taxPrice!: number;\r\n\r\n  @Prop({ default: 0 })\r\n  shippingPrice!: number;\r\n\r\n  @Prop({ default: 0 })\r\n  totalPrice!: number;\r\n}\r\n\r\nexport const CartSchema = SchemaFactory.createForClass(Cart);\r\n"],"names":["Cart","CartItem","CartItemSchema","CartSchema","required","type","String","default","SchemaFactory","createForClass","MongooseSchema","Types","ObjectId","ref","timestamps"],"mappings":";;;;;;;;;;;QA8CaA;eAAAA;;QAnCAC;eAAAA;;QAgCAC;eAAAA;;QAuBAC;eAAAA;;;0BAlE+B;2BACO;4BAC9B;;;;;;;;;;AASd,IAAA,AAAMF,WAAN,MAAMA;AA8Bb;;;QA7BUG,UAAU;QAAMC,MAAMC;;;;;;QAGtBF,UAAU;;;;;;QAGVA,UAAU;;;;;;QAGVA,UAAU;;;;;;QAGVA,UAAU;QAAMG,SAAS;;;;;;QAGzBH,UAAU;QAAMG,SAAS;;;;;;QAGzBH,UAAU;QAAMG,SAAS;;;;;;QAGzBH,UAAU;QAAOC,MAAMC;;;;;;QAGvBF,UAAU;QAAOC,MAAMC;;;;;;QAGvBF,UAAU;QAAOC,MAAMC;;;;;;;AAI1B,MAAMJ,iBAAiBM,uBAAa,CAACC,cAAc,CAACR;AAGpD,IAAA,AAAMD,OAAN,MAAMA;AAkBb;;;QAjBUK,MAAMK,iBAAc,CAACC,KAAK,CAACC,QAAQ;QAAEC,KAAK;QAAQT,UAAU;;;;;;QAG5DC,MAAM;YAACH;SAAe;QAAEK,SAAS,EAAE;;;;;;QAGnCA,SAAS;;;;;;QAGTA,SAAS;;;;;;QAGTA,SAAS;;;;;;QAGTA,SAAS;;;;;;QAjBTO,YAAY;;;AAqBf,MAAMX,aAAaK,uBAAa,CAACC,cAAc,CAACT"}