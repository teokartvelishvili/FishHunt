{"version":3,"sources":["../../src/utils/index.ts"],"sourcesContent":["import { Request } from 'express';\r\n\r\nexport interface FileFilterCallback {\r\n  (error: Error | null, acceptFile: boolean): void;\r\n}\r\n\r\nexport const imageFileFilter = (\r\n  req: Request,\r\n  file: Express.Multer.File,\r\n  cb: FileFilterCallback,\r\n) => {\r\n  if (!file.mimetype.match(/^image\\/(jpg|jpeg|png|gif|webp|svg\\+xml|bmp)$/)) {\r\n    return cb(new Error('Only image files are allowed!'), false);\r\n  }\r\n  cb(null, true);\r\n};\r\n\r\n// Add more utility functions as needed\r\nexport const formatFileName = (originalName: string): string => {\r\n  const timestamp = new Date().getTime();\r\n  const name = originalName.toLowerCase().replace(/\\s+/g, '-');\r\n  return `${timestamp}-${name}`;\r\n};\r\n"],"names":["formatFileName","imageFileFilter","req","file","cb","mimetype","match","Error","originalName","timestamp","Date","getTime","name","toLowerCase","replace"],"mappings":";;;;;;;;;;;QAkBaA;eAAAA;;QAZAC;eAAAA;;;AAAN,MAAMA,kBAAkB,CAC7BC,KACAC,MACAC;IAEA,IAAI,CAACD,KAAKE,QAAQ,CAACC,KAAK,CAAC,kDAAkD;QACzE,OAAOF,GAAG,IAAIG,MAAM,kCAAkC;IACxD;IACAH,GAAG,MAAM;AACX;AAGO,MAAMJ,iBAAiB,CAACQ;IAC7B,MAAMC,YAAY,IAAIC,OAAOC,OAAO;IACpC,MAAMC,OAAOJ,aAAaK,WAAW,GAAGC,OAAO,CAAC,QAAQ;IACxD,OAAO,GAAGL,UAAU,CAAC,EAAEG,MAAM;AAC/B"}