{"version":3,"sources":["../../../src/banners/services/banner.service.ts"],"sourcesContent":["import { Injectable } from '@nestjs/common';\r\nimport { InjectModel } from '@nestjs/mongoose';\r\nimport { Model } from 'mongoose';\r\nimport { Banner } from '../schemas/banner.schema';\r\nimport { CreateBannerDto, UpdateBannerDto } from '../dtos/banner.dto';\r\n\r\n@Injectable()\r\nexport class BannerService {\r\n  constructor(@InjectModel(Banner.name) private bannerModel: Model<Banner>) {}\r\n\r\n  async create(createBannerDto: CreateBannerDto): Promise<Banner> {\r\n    const banner = new this.bannerModel(createBannerDto);\r\n    return banner.save();\r\n  }\r\n\r\n  async findAll(): Promise<Banner[]> {\r\n    return this.bannerModel.find().sort({ sortOrder: 1, createdAt: -1 }).exec();\r\n  }\r\n\r\n  async findActive(): Promise<Banner[]> {\r\n    return this.bannerModel\r\n      .find({ isActive: true })\r\n      .sort({ sortOrder: 1, createdAt: -1 })\r\n      .exec();\r\n  }\r\n\r\n  async findOne(id: string): Promise<Banner> {\r\n    return this.bannerModel.findById(id).exec();\r\n  }\r\n\r\n  async update(id: string, updateBannerDto: UpdateBannerDto): Promise<Banner> {\r\n    return this.bannerModel\r\n      .findByIdAndUpdate(id, updateBannerDto, { new: true })\r\n      .exec();\r\n  }\r\n\r\n  async remove(id: string): Promise<void> {\r\n    await this.bannerModel.findByIdAndDelete(id).exec();\r\n  }\r\n}\r\n"],"names":["BannerService","create","createBannerDto","banner","bannerModel","save","findAll","find","sort","sortOrder","createdAt","exec","findActive","isActive","findOne","id","findById","update","updateBannerDto","findByIdAndUpdate","new","remove","findByIdAndDelete","name"],"mappings":";;;;+BAOaA;;;eAAAA;;;wBAPc;0BACC;2BACN;8BACC;;;;;;;;;;;;;;;AAIhB,IAAA,AAAMA,gBAAN,MAAMA;IAGX,MAAMC,OAAOC,eAAgC,EAAmB;QAC9D,MAAMC,SAAS,IAAI,IAAI,CAACC,WAAW,CAACF;QACpC,OAAOC,OAAOE,IAAI;IACpB;IAEA,MAAMC,UAA6B;QACjC,OAAO,IAAI,CAACF,WAAW,CAACG,IAAI,GAAGC,IAAI,CAAC;YAAEC,WAAW;YAAGC,WAAW,CAAC;QAAE,GAAGC,IAAI;IAC3E;IAEA,MAAMC,aAAgC;QACpC,OAAO,IAAI,CAACR,WAAW,CACpBG,IAAI,CAAC;YAAEM,UAAU;QAAK,GACtBL,IAAI,CAAC;YAAEC,WAAW;YAAGC,WAAW,CAAC;QAAE,GACnCC,IAAI;IACT;IAEA,MAAMG,QAAQC,EAAU,EAAmB;QACzC,OAAO,IAAI,CAACX,WAAW,CAACY,QAAQ,CAACD,IAAIJ,IAAI;IAC3C;IAEA,MAAMM,OAAOF,EAAU,EAAEG,eAAgC,EAAmB;QAC1E,OAAO,IAAI,CAACd,WAAW,CACpBe,iBAAiB,CAACJ,IAAIG,iBAAiB;YAAEE,KAAK;QAAK,GACnDT,IAAI;IACT;IAEA,MAAMU,OAAON,EAAU,EAAiB;QACtC,MAAM,IAAI,CAACX,WAAW,CAACkB,iBAAiB,CAACP,IAAIJ,IAAI;IACnD;IA9BA,YAAY,AAAkCP,WAA0B,CAAE;aAA5BA,cAAAA;IAA6B;AA+B7E;;;iEA/BkCmB"}