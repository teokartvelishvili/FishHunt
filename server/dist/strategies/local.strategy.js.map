{"version":3,"sources":["../../src/strategies/local.strategy.ts"],"sourcesContent":["import { Strategy } from 'passport-local';\r\nimport { PassportStrategy } from '@nestjs/passport';\r\nimport { Injectable } from '@nestjs/common';\r\nimport { AuthService } from '../users/services/auth.service';\r\nimport { UserDocument } from '../users/schemas/user.schema';\r\n\r\n@Injectable()\r\nexport class LocalStrategy extends PassportStrategy(Strategy) {\r\n  constructor(private authService: AuthService) {\r\n    super({\r\n      usernameField: 'email',\r\n    });\r\n  }\r\n\r\n  async validate(email: string, password: string): Promise<UserDocument> {\r\n    const user = await this.authService.validateUser(email, password);\r\n    return user;\r\n  }\r\n}\r\n"],"names":["LocalStrategy","PassportStrategy","Strategy","validate","email","password","user","authService","validateUser","usernameField"],"mappings":";;;;+BAOaA;;;eAAAA;;;+BAPY;0BACQ;wBACN;6BACC;;;;;;;;;;AAIrB,IAAA,AAAMA,gBAAN,MAAMA,sBAAsBC,IAAAA,0BAAgB,EAACC,uBAAQ;IAO1D,MAAMC,SAASC,KAAa,EAAEC,QAAgB,EAAyB;QACrE,MAAMC,OAAO,MAAM,IAAI,CAACC,WAAW,CAACC,YAAY,CAACJ,OAAOC;QACxD,OAAOC;IACT;IATA,YAAY,AAAQC,WAAwB,CAAE;QAC5C,KAAK,CAAC;YACJE,eAAe;QACjB,SAHkBF,cAAAA;IAIpB;AAMF"}