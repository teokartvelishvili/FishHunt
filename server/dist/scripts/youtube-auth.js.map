{"version":3,"sources":["../../src/scripts/youtube-auth.ts"],"sourcesContent":["#!/usr/bin/env node\r\n\r\n/**\r\n * YouTube OAuth Authorization Script\r\n * \r\n * рЃћрЃА рЃАрЃЎрЃарЃўрЃърЃбрЃў рЃњрЃћрЃ«рЃЏрЃљрЃарЃћрЃЉрЃљрЃЌ YouTube API-рЃА рЃърЃўрЃарЃЋрЃћрЃџрЃљрЃЊрЃў рЃљрЃЋрЃбрЃЮрЃарЃўрЃќрЃљрЃфрЃўрЃўрЃАрЃЌрЃЋрЃўрЃА\r\n * рЃЊрЃљ Refresh Token-рЃўрЃА рЃЏрЃўрЃдрЃћрЃЉрЃљрЃерЃў.\r\n * \r\n * рЃњрЃљрЃЏрЃЮрЃДрЃћрЃюрЃћрЃЉрЃљ:\r\n * npm run youtube:auth\r\n */\r\n\r\nimport { config } from 'dotenv';\r\nimport { google } from 'googleapis';\r\nimport * as readline from 'readline';\r\nimport open from 'open';\r\n\r\n// .env рЃцрЃљрЃўрЃџрЃўрЃА рЃЕрЃљрЃбрЃЋрЃўрЃарЃЌрЃЋрЃљ\r\nconfig();\r\n\r\nconst CLIENT_ID = process.env.YOUTUBE_CLIENT_ID;\r\nconst CLIENT_SECRET = process.env.YOUTUBE_CLIENT_SECRET;\r\nconst REDIRECT_URI = process.env.YOUTUBE_REDIRECT_URI || 'http://localhost:3001/api/youtube/oauth2callback';\r\n\r\nif (!CLIENT_ID || !CLIENT_SECRET) {\r\n  console.error('РЮї Error: YOUTUBE_CLIENT_ID рЃЊрЃљ YOUTUBE_CLIENT_SECRET рЃљрЃа рЃљрЃарЃўрЃА рЃЎрЃЮрЃюрЃцрЃўрЃњрЃБрЃарЃўрЃарЃћрЃЉрЃБрЃџрЃў .env рЃцрЃљрЃўрЃџрЃерЃў');\r\n  process.exit(1);\r\n}\r\n\r\nconst oauth2Client = new google.auth.OAuth2(\r\n  CLIENT_ID,\r\n  CLIENT_SECRET,\r\n  REDIRECT_URI\r\n);\r\n\r\nconst scopes = [\r\n  'https://www.googleapis.com/auth/youtube.upload',\r\n  'https://www.googleapis.com/auth/youtube',\r\n  'https://www.googleapis.com/auth/youtube.force-ssl',\r\n];\r\n\r\nconst authUrl = oauth2Client.generateAuthUrl({\r\n  access_type: 'offline',\r\n  scope: scopes,\r\n  prompt: 'consent',\r\n});\r\n\r\nconsole.log('\\n­Ъћљ YouTube API Authorization\\n');\r\nconsole.log('1. рЃЉрЃарЃљрЃБрЃќрЃћрЃарЃерЃў рЃњрЃљрЃўрЃ«рЃАрЃюрЃћрЃЉрЃљ рЃљрЃЋрЃбрЃЮрЃарЃўрЃќрЃљрЃфрЃўрЃўрЃА рЃњрЃЋрЃћрЃарЃЊрЃў');\r\nconsole.log('2. рЃљрЃўрЃарЃЕрЃўрЃћрЃЌ рЃЌрЃЦрЃЋрЃћрЃюрЃў Google рЃљрЃюрЃњрЃљрЃарЃўрЃерЃў (рЃарЃЮрЃЏрЃџрЃўрЃЌрЃљрЃф YouTube рЃљрЃарЃ«рЃў рЃњрЃљрЃЦрЃЋрЃЌ)');\r\nconsole.log('3. рЃЏрЃўрЃћрЃфрЃўрЃЌ рЃБрЃцрЃџрЃћрЃЉрЃћрЃЉрЃў рЃљрЃърЃџрЃўрЃЎрЃљрЃфрЃўрЃљрЃА');\r\nconsole.log('4. Redirect-рЃўрЃА рЃерЃћрЃЏрЃЊрЃћрЃњ рЃЊрЃљрЃљрЃЎрЃЮрЃърЃўрЃарЃћрЃЌ Refresh Token рЃЊрЃљ рЃЊрЃљрЃљрЃЏрЃљрЃбрЃћрЃЌ .env рЃцрЃљрЃўрЃџрЃерЃў');\r\nconsole.log('\\n­ЪЊІ Authorization URL:');\r\nconsole.log(authUrl);\r\nconsole.log('\\n');\r\n\r\n// рЃљрЃЋрЃбрЃЮрЃЏрЃљрЃбрЃБрЃарЃљрЃЊ рЃЉрЃарЃљрЃБрЃќрЃћрЃарЃўрЃА рЃњрЃљрЃ«рЃАрЃюрЃљ\r\nopen(authUrl).catch(() => {\r\n  console.log('Рџа№ИЈ  рЃЉрЃарЃљрЃБрЃќрЃћрЃарЃўрЃА рЃљрЃЋрЃбрЃЮрЃЏрЃљрЃбрЃБрЃарЃљрЃЊ рЃњрЃљрЃ«рЃАрЃюрЃљ рЃЋрЃћрЃа рЃЏрЃЮрЃ«рЃћрЃарЃ«рЃЊрЃљ.');\r\n  console.log('рЃњрЃЌрЃ«рЃЮрЃЋрЃЌ рЃЏрЃљрЃюрЃБрЃљрЃџрЃБрЃарЃљрЃЊ рЃњрЃљрЃ«рЃАрЃћрЃюрЃўрЃЌ рЃќрЃћрЃЏрЃЮрЃЌ рЃЏрЃЮрЃфрЃћрЃЏрЃБрЃџрЃў URL');\r\n});\r\n\r\nconsole.log('РюЁ рЃарЃЮрЃЊрЃћрЃАрЃљрЃф рЃЊрЃљрЃљрЃАрЃарЃБрЃџрЃћрЃЉрЃЌ рЃљрЃЋрЃбрЃЮрЃарЃўрЃќрЃљрЃфрЃўрЃљрЃА, рЃЊрЃљрЃљрЃЎрЃЮрЃърЃўрЃарЃћрЃЌ Refresh Token рЃЊрЃљ рЃЊрЃљрЃљрЃЏрЃљрЃбрЃћрЃЌ .env рЃцрЃљрЃўрЃџрЃерЃў:');\r\nconsole.log('YOUTUBE_REFRESH_TOKEN=your_refresh_token_here');\r\nconsole.log('\\n');\r\n"],"names":["config","CLIENT_ID","process","env","YOUTUBE_CLIENT_ID","CLIENT_SECRET","YOUTUBE_CLIENT_SECRET","REDIRECT_URI","YOUTUBE_REDIRECT_URI","console","error","exit","oauth2Client","google","auth","OAuth2","scopes","authUrl","generateAuthUrl","access_type","scope","prompt","log","open","catch"],"mappings":";;;;;wBAYuB;4BACA;6DAEN;;;;;;AAEjB,wBAAwB;AACxBA,IAAAA,cAAM;AAEN,MAAMC,YAAYC,QAAQC,GAAG,CAACC,iBAAiB;AAC/C,MAAMC,gBAAgBH,QAAQC,GAAG,CAACG,qBAAqB;AACvD,MAAMC,eAAeL,QAAQC,GAAG,CAACK,oBAAoB,IAAI;AAEzD,IAAI,CAACP,aAAa,CAACI,eAAe;IAChCI,QAAQC,KAAK,CAAC;IACdR,QAAQS,IAAI,CAAC;AACf;AAEA,MAAMC,eAAe,IAAIC,kBAAM,CAACC,IAAI,CAACC,MAAM,CACzCd,WACAI,eACAE;AAGF,MAAMS,SAAS;IACb;IACA;IACA;CACD;AAED,MAAMC,UAAUL,aAAaM,eAAe,CAAC;IAC3CC,aAAa;IACbC,OAAOJ;IACPK,QAAQ;AACV;AAEAZ,QAAQa,GAAG,CAAC;AACZb,QAAQa,GAAG,CAAC;AACZb,QAAQa,GAAG,CAAC;AACZb,QAAQa,GAAG,CAAC;AACZb,QAAQa,GAAG,CAAC;AACZb,QAAQa,GAAG,CAAC;AACZb,QAAQa,GAAG,CAACL;AACZR,QAAQa,GAAG,CAAC;AAEZ,+BAA+B;AAC/BC,IAAAA,aAAI,EAACN,SAASO,KAAK,CAAC;IAClBf,QAAQa,GAAG,CAAC;IACZb,QAAQa,GAAG,CAAC;AACd;AAEAb,QAAQa,GAAG,CAAC;AACZb,QAAQa,GAAG,CAAC;AACZb,QAAQa,GAAG,CAAC"}